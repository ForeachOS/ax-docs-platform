multi-mode module

as an embedded service (with or without api)
as a separate api
as a client
